<% const headerUser=typeof user !=='undefined' && user ? user : null; %>
<% const appBranding=(typeof branding !=='undefined' && branding) ? branding : { logoDataUrl: 'https://caodang.fpt.edu.vn/wp-content/uploads/logo-3.png', subtext: 'FPT Polytechnic' }; %>
    <!-- Top Header -->
    <header class="top-header">
        <div class="header-left">
            <button class="btn-toggle-sidebar" id="toggleSidebar">
                <i class="bi bi-list"></i>
            </button>

            <div class="header-logo d-md-none">
                <img id="appHeaderLogo" src="<%= appBranding.logoDataUrl %>" alt="<%= appBranding.subtext %>" height="30">
            </div>
        </div>

        <div class="header-center d-none d-md-block">
            <h2 class="header-title mb-0">
                <i class="bi bi-mortarboard-fill text-primary"></i>
                Hệ thống Chăm sóc sinh viên
            </h2>
            <p class="header-subtitle mb-0" id="appHeaderSubtext"><%= appBranding.subtext %></p>
        </div>

        <div class="header-right">
            <!-- <button class="btn btn-link text-dark position-relative p-2" title="Thông báo">
                <i class="bi bi-bell-fill fs-5"></i>
                <span class="badge bg-danger rounded-pill position-absolute top-0 start-100 translate-middle">2</span>
            </button>

            <button class="btn btn-link text-dark p-2 d-none d-md-inline-block" title="Trợ giúp">
                <i class="bi bi-question-circle-fill fs-5"></i>
            </button> -->

            <div class="dropdown">
                <button class="btn btn-link text-dark dropdown-toggle d-flex align-items-center gap-2 p-2" type="button"
                    data-bs-toggle="dropdown">
                    <img src="<%= headerUser && headerUser.picture ? headerUser.picture : '' %>" alt="User Avatar"
                        class="user-picture"
                        style="<%= headerUser && headerUser.picture ? 'display:inline-block;' : 'display:none;' %>">
                    <i class="bi bi-person-circle fs-4 user-icon-default"
                        style="<%= headerUser && headerUser.picture ? 'display:none;' : 'display:inline-block;' %>"></i>
                    <span class="d-none d-md-inline">Xin chào, <span class="user-name">
                            <%= headerUser ? headerUser.name : 'User' %>
                        </span></span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end shadow">
                    <li>
                        <div class="dropdown-header">
                            <div class="fw-bold user-name">
                                <%= headerUser ? headerUser.name : 'User' %>
                            </div>
                            <small class="text-muted user-email">
                                <%= headerUser ? headerUser.email : 'user@example.com' %>
                            </small>
                        </div>
                    </li>
                    <li>
                        <hr class="dropdown-divider">
                    </li>
                    <li>
                        <a class="dropdown-item text-danger btn-logout" href="#" style="cursor: pointer;">
                            <i class="bi bi-box-arrow-right me-2"></i>Đăng xuất
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </header>
